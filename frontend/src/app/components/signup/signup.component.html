<main class="container mx-auto">
  <div class="flex justify-center px-6">
    <div
      class="
        w-full
        md:w-2/3
        2xl:w-1/3
        bg-white
        p-5
        rounded-lg
        lg:rounded-l-none
      "
    >
      <h1 class="pt-4 text-2xl text-center">Créez un compte!</h1>
      <form
        [formGroup]="signupForm"
        (ngSubmit)="onSubmit()"
        [ngClass]="signupForm.get('name')?.valid ? 'ng-valid' : 'ng-invalid'"
        class="px-8 pt-6 pb-8 mb-4 bg-white rounded"
      >
        <div class="mb-4">
          <label class="block mb-2 text-sm font-bold text-gray-700" for="name">
            Nom
          </label>
          <input
            class="
              w-full
              px-3
              py-2
              text-sm
              leading-tight
              text-gray-700
              border
              rounded
              shadow
              appearance-none
            "
            id="name"
            type="text"
            placeholder="Nom"
            formControlName="name"
          />
          <p
            *ngIf="
              onlyLettersRegex.test(signupForm.get('name')?.value) &&
              signupForm.get('name')?.touched
            "
            class="mt-2 text-xs italic text-red-500"
          >
            * Seules les lettres sont autorisées !
          </p>
        </div>
        <div class="mb-4">
          <label class="block mb-2 text-sm font-bold text-gray-700" for="email">
            Email
          </label>
          <input
            class="
              w-full
              px-3
              py-2
              mb-3
              text-sm
              leading-tight
              text-gray-700
              border
              rounded
              shadow
              appearance-none
            "
            id="email"
            type="email"
            placeholder="Email"
            formControlName="email"
          />
        </div>
        <div class="mb-4 md:flex md:justify-between">
          <div class="mb-4 md:mr-2 md:mb-0 w-full">
            <label
              class="block mb-2 text-sm font-bold text-gray-700"
              for="password"
            >
              Mot de passe
            </label>
            <input
              class="
                w-full
                px-3
                py-2
                mb-3
                text-sm
                leading-tight
                text-gray-700
                rounded
                shadow
                appearance-none
              "
              id="password"
              type="password"
              placeholder="******************"
              formControlName="password"
            />
          </div>
          <div class="md:ml-2 w-full">
            <label
              class="block mb-2 text-sm font-bold text-gray-700"
              for="confirmPassword"
            >
              Confirmer Mot de passe
            </label>
            <input
              [class.btn-danger]="signupForm.errors?.['passwordsDontMatch'] && signupForm.get('confirmPassword')?.touched"
              class="
                w-full
                px-3
                py-2
                mb-3
                text-sm
                leading-tight
                text-gray-700
                border
                rounded
                shadow
                appearance-none
              "
              id="confirmPassword"
              name="confirmPassword"
              type="password"
              placeholder="******************"
              formControlName="confirmPassword"
            />
          </div>
        </div>
        <div class="mb-6 text-center">
          <p
            *ngIf="
              signupForm.get('password')?.value.length < 8 &&
              signupForm.get('password')?.touched
            "
            class="mb-2 text-xs italic text-red-500"
          >
            * Le mot de passe doit faire au moins 8 caractères !
          </p>
          <p
            *ngIf="signupForm.errors?.['passwordsDontMatch'] && signupForm.get('confirmPassword')?.touched"
            class="mb-2 text-xs italic text-red-500"
          >
            * Les mots de passe ne correspondent pas !
          </p>
          <button
            class="btn-full"
            [class.valid]="signupForm.valid"
            [disabled]="signupForm.invalid"
            type="submit"
          >
            Créer un compte
          </button>
        </div>
        <hr class="mb-6 border-t" />
        <div class="text-center">
          <a
            class="
              inline-block
              text-lg text-blue-500
              align-baseline
              hover:text-blue-800
            "
            routerLink="/login"
          >
            Déjà inscrit? Connectez vous!
          </a>
        </div>
      </form>
    </div>
  </div>
</main>
