<!-- IMPORTANT -->
<!-- input image name must be "uploaded-image" -->
<main class="container mx-auto">
  <div class="flex justify-center sm:px-6">
    <div
      class="
        w-full
        md:w-2/3
        xl:w-1/3
        bg-white
        md:p-5
        rounded-lg
        lg:rounded-l-none
      "
    >
      <h3 class="pt-4 text-2xl text-center">Cr√©ez un nouveau Post!</h3>
      <form
        [formGroup]="postForm"
        (ngSubmit)="onSubmit()"
        [attr.enctype]="postType === 'image' ? 'multipart/form-data' : null"
        class="px-8 pt-6 pb-8 mb-4 bg-white rounded"
      >
        <div class="mb-4">
          <label class="block mb-2 text-sm font-bold text-gray-700" for="name">
            Titre
          </label>
          <input
            class="
              w-full
              px-3
              py-2
              text-sm
              leading-tight
              text-gray-700
              border
              rounded
              shadow
              appearance-none
            "
            id="title"
            name="title"
            type="text"
            placeholder="Titre"
            formControlName="title"
          />
        </div>
        <!-- postType Text -->
        <div *ngIf="postType === 'text'" class="mb-4">
          <label class="block mb-2 text-sm font-bold text-gray-700" for="email">
            Contenu
          </label>
          <textarea
            class="
              w-full
              h-64
              px-3
              py-2
              mb-3
              text-sm
              leading-tight
              text-gray-700
              border
              rounded
              shadow
              appearance-none
            "
            id="text"
            placeholder="Votre texte..."
            formControlName="text"
          ></textarea>
        </div>
        <!-- postType Image -->
        <div *ngIf="postType === 'image'" class="mb-4">
          <label class="block mb-2 text-sm font-bold text-gray-700" for="email">
            Image
          </label>
          <input
            class="
              mx-auto
              w-full
              px-3
              py-2
              mb-3
              text-sm
              leading-tight
              text-gray-700
              border
              rounded
              shadow
              appearance-none
            "
            id="image"
            name="image"
            type="file"
            formControlName="image"
            accept="image/*"
            (change)="onFileSelected($event)"
          />
        </div>
        <div class="mb-6 text-center">
          <button
            class="
              w-full
              px-4
              py-2
              font-bold
              text-white
              bg-blue-500
              rounded-full
              hover:bg-blue-700
              focus:bg-blue-700
              disabled:opacity-0
            "
            type="submit"
            [disabled]="postForm.invalid"
          >
            Envoyer
          </button>
        </div>
      </form>
    </div>
  </div>
</main>
